<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.9">
    <title>SUMO - README</title>
    <link rel="stylesheet" media="screen" href="./css/bootstrap.min.css">
    <link rel="stylesheet" media="screen" href="./css/main.css">
  </head>
  <body>
    <div class="container">
      <div class="navbar navbar-default">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./">SUMO</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="./">Home</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Events <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="./smt.html">Stanford Math Tournament</a></li>
                <li><a href="./speakers.html">Colloquium</a></li>
                <li><a href="./tutoring.html">Tutoring</a></li>
                <li><a href="./otherevents.html">Other Events</a></li>
              </ul>
            </li>
            <li><a href="./opportunities.html">Opportunities</a></li>
            <li><a href="./contact.html">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
      <div id="content">
        <h1 id="sumo-in-hakyll">SUMO in Hakyll</h1>
<p>The <a href="http://sumo.stanford.edu/">website for SUMO (Stanford University Math Organization)</a> needs a rewrite, so I’m giving it a mobile-responsive redesign with implementation in Hakyll.</p>
<h2 id="setting-up-your-machine-for-development">Setting up your machine for development</h2>
<p>This is a simple guide to editing the SUMO website for Eddy and Raymond and whoever else wants to edit the content of the website.</p>
<h3 id="how-do-i-install-things">How do I install things?</h3>
<p>First, you’ll need GHC and cabal-install, the easiest way to do this is to install the <a href="http://www.haskell.org/platform/">Haskell Platform</a> for your OS.</p>
<p>Once you have Haskell, in a terminal run <code>cabal install hakyll</code> to install the magical <a href="http://jaspervdj.be/hakyll/">Hakyll library</a> that we use for building the site into static HTML files. Then clone this repo. If you plan to be doing many edits to the site ask Lennart to add you as a collaborator on this repository in GitHub so you can push directly. Otherwise, fork and open pull requests.</p>
<p>In your cloned repo, run <code>ghc --make site.hs</code> to build the <code>site</code> executable, which is the tool to build the website, clean the built files, and other such useful tasks. To make sure things are working, run <code>./site rebuild</code>, this will clean out all built files and rebuild things from scratch. This command builds and copies files into the <code>_site</code> directory, these are the files that are deployed to Stanford AFS.</p>
<p>Once the site builds, run <code>./site preview</code> to start a simple static file preview server, then point your browser to <code>localhost:8000</code> to test the site. If you see the friendly SUMO home page, all is well! If not, complain to Lennart.</p>
<h3 id="how-do-i-change-things">How do I change things?</h3>
<p>All the content for the site is conveniently written in Markdown format. The pages that exist right now are <code>index.md</code>, <code>smt.md</code>, <code>speakers.md</code> and <code>contact.md</code>. <code>index.md</code> and <code>contact.md</code> showcase some more complicated markup patterns, use them for reference. If you just need to change a couple words, then everything should be self-explanatory.</p>
<h3 id="how-do-i-add-a-page">How do I add a page?</h3>
<p>Each page has a <code>.md</code> file for the content and a <code>.md.metadata</code> file for the metadata. The metadata file needs to have two keys, the title for the page and a variable name to use for the navbar (to get the current page highlighted). Choose a unique identifier for this. Then, to add a new page to the navbar, edit <code>templates/default.html</code>, and add a new <code>li</code> to the navbar <code>ul</code> with the templating `</p>
      </div>
      <div class="footer">
        Site designed and maintained by Lennart Jansson. Markup proudly generated by <a href="http://jaspervdj.be/hakyll">Hakyll</a>, view source on <a href="http://github.com/zhanrnl/sumo-hakyll">GitHub</a>
      </div>
      <script src="./js/jquery-1.10.2.min.js"></script>
      <script src="./js/bootstrap.min.js"></script>
    </div>
  </body>
</html>
